# =============================================================================
# PostgreSQL Container Environment Configuration Example
# =============================================================================
# Copy this file to .env and customize the values for your environment
# =============================================================================

# =============================================================================
# POSTGRESQL CONFIGURATION
# =============================================================================

# PostgreSQL Connection Settings
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=${POSTGRES_PASSWORD:-changeme}

# PostgreSQL Runtime Configuration
POSTGRES_UID=999
POSTGRES_GID=999
POSTGRES_DATA_DIR=/data

# =============================================================================
# KUBERNETES CONFIGURATION
# =============================================================================

# Namespace and Deployment Settings
NAMESPACE=postgres
STATEFULSET_NAME=postgres
JOB_NAME=postgres-restore
SERVICE_ACCOUNT=postgres-sa

# Pod Labels
POSTGRES_POD_LABEL=app.kubernetes.io/name=postgres
MINIO_LABEL=app.kubernetes.io/name=minio

# =============================================================================
# BACKUP AND RESTORE CONFIGURATION
# =============================================================================

# Storage Settings
STORAGE_TYPE=s3
S3_BUCKET=backups
BACKUP_PREFIX=postgres

# Backup Schedule and Retention
FULL_BACKUP_INTERVAL=7
BACKUP_RETENTION_DAYS=30

# =============================================================================
# S3/REMOTE STORAGE CONFIGURATION
# =============================================================================

# Remote S3 Configuration (set when using --remote-s3)
S3_ENDPOINT_URL=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_REGION=default

# Cloudflare R2 Example
# S3_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com
# S3_ACCESS_KEY=your_r2_access_key
# S3_SECRET_KEY=your_r2_secret_key
# S3_BUCKET=backup
# S3_REGION=default

# AWS S3 Example
# S3_ENDPOINT_URL=https://s3.amazonaws.com
# S3_ACCESS_KEY=your_aws_access_key
# S3_SECRET_KEY=your_aws_secret_key
# S3_BUCKET=your-backup-bucket
# S3_REGION=us-east-1

# =============================================================================
# MINIO CONFIGURATION (Local Storage)
# =============================================================================

# MinIO Settings
MINIO_ENDPOINT=http://minio:9000
MINIO_ROOT_USER=${MINIO_ROOT_USER:-minioadmin}
MINIO_ROOT_PASSWORD=${MINIO_ROOT_PASSWORD:-changeme}

# MinIO Console Settings
MINIO_CONSOLE_ENDPOINT=http://minio:9001

# =============================================================================
# TIMEOUTS AND RESOURCE LIMITS
# =============================================================================

# Timeouts (in seconds unless specified)
POSTGRES_INIT_WAIT_TIME=30
POD_TERMINATION_TIMEOUT=300s
POD_READY_TIMEOUT=600s
S3_CONNECT_TIMEOUT=10
MC_DOWNLOAD_TIMEOUT=300

# Resource Limits
MEMORY_REQUEST=2Gi
MEMORY_LIMIT=4Gi
CPU_REQUEST=1000m
CPU_LIMIT=2000m
STORAGE_SIZE=20Gi

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Enable/disable features
AUTO_CREATE_MINIO=false
FORCE_RESTORE=false
DEBUG_MODE=false
DEBUG_S3=false
DEBUG_BACKUP=false

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log levels
LOG_LEVEL=INFO
ENABLE_DEBUG_LOGGING=false

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================

# Monitoring settings
ENABLE_METRICS=true
METRICS_PORT=9090

# Alert settings
ALERT_EMAIL=${ALERT_EMAIL:-}
ALERT_WEBHOOK=${ALERT_WEBHOOK:-}

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Development settings
DEV_MODE=false
SKIP_VALIDATION=false
DRY_RUN=false

# Test settings
TEST_NAMESPACE=test-postgres
TEST_S3_BUCKET=test-backups

# =============================================================================
# CUSTOMIZATION
# =============================================================================

# Custom backup prefix for different environments
# BACKUP_PREFIX=postgres-prod    # Production
# BACKUP_PREFIX=postgres-stg     # Staging
# BACKUP_PREFIX=postgres-dev     # Development

# Custom namespace for different environments
# NAMESPACE=postgres-prod        # Production
# NAMESPACE=postgres-stg         # Staging
# NAMESPACE=postgres-dev         # Development

# =============================================================================
# NOTES
# =============================================================================
# 1. Replace ${VARIABLE:-default} with your actual values
# 2. For production use, use environment variables or secret management
# 3. Never commit actual secrets to version control
# 4. Use strong, unique passwords and keys
# 5. Regularly rotate credentials
# 6. Enable proper monitoring and alerting
# 7. Test backup and restore procedures regularly
# =============================================================================